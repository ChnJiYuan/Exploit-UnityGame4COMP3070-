using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Buyland : MonoBehaviour
{
    public GameObject buyList; // 将你的Panel拖到这个公有变量上
    private Block currentBlock; // 当前的方块

    void OnTriggerEnter(Collider other)
    {
        // 如果进入触发器的是玩家（你可能需要根据自己的实际情况修改这个条件）
        if (other.gameObject.tag == "Block")
        {
            // 显示弹窗
            currentBlock = other.gameObject.GetComponent<Block>();
        }
    }

    void OnTriggerExit(Collider other)
    {
        // 如果离开触发器的是玩家（你可能需要根据自己的实际情况修改这个条件）
        if (other.gameObject.tag == "Block")
        {
            // 隐藏弹窗
            currentBlock = null;
            buyList.SetActive(false);
        }
    }

    void Update()
    {
        if (Input.GetKeyDown(KeyCode.Return) && currentBlock != null)
        {
            // 如果玩家按下了回车键，并且他们在一个可以购买的方块上，那么就显示购买和售出选单
            buyList.SetActive(true);
        }
    }
}
